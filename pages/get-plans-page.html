<link rel="import" href="../components/polymer/polymer.html">
<link rel="import" href="../layouts/main-layout.html">

<link rel="import" href="../components/paper-input/paper-autogrow-textarea.html">
<link rel="import" href="../components/paper-input/paper-input-decorator.html">
<link rel="import" href="../components/paper-input/paper-input.html">
<link rel="import" href="../components/paper-button/paper-button.html">

<link rel="import" href="../elements/r2als-anchor-button.html">
<link rel="import" href="../elements/r2als-paper-action-dialog.html">

<link rel="import" href="../components/core-ajax/core-ajax.html">
<link rel="import" href="../components/paper-spinner/paper-spinner.html">

<script src="../components/jquery/dist/jquery.min.js"></script>
<!--<script src="/components/jquery-validity/build/jquery.validity.min.js"></script>-->


<polymer-element name="get-plans-page">
  <template>
    <style>
      .json{
        white-space: pre;
        font-family: monospace;
      }
      paper-spinner.blue::shadow .circle {
        border-color: #4285f4;
      }

      paper-spinner.red::shadow .circle {
        border-color: #db4437;
      }

      paper-spinner.yellow::shadow .circle {
        border-color: #f4b400;
      }

      paper-spinner.green::shadow .circle {
        border-color: #0f9d58;
      }
    </style>
    <link rel="stylesheet" href="../css/main.css" shim-shadowdom>
    <main-layout selected="get-plans">
      <div class="title">Get Plans</div>
      
<!--      <core-ajax auto url="//gdata.youtube.com/feeds/api/videos/" params='{"alt":"json", "q":"game"}' handleAs="json" on-core-response="{{handleResponse}}"></core-ajax>
-->
      
      <core-ajax 
        auto 
        url="http://127.0.0.1:6543/apis/processor" 
        method='POST' 
        handleAs="json"
        on-core-response="{{handleResponse}}"
        on-core-error="{{handleError}}"
        body="{{json}}">
      </core-ajax>
      
<!--      <core-xhr id="xhr"></core-xhr>-->

      
<!--
      <polymer-jsonp 
          auto 
          url="http://127.0.0.1:6543/apis/subjects/math" 
          on-polymer-response="{{handleResponse}}">
      </polymer-jsonp>
-->
<!--      http://127.0.0.1:6543/apis/subjects/math-->
      
<!--      <core-shared-lib on-core-shared-lib-load="{{handleResponse}}" url="http://127.0.0.1:6543/apis/subjects/math%%callback%%"></core-shared-lib>-->
      
      <template repeat="{{response.data.subjects}}">
        <div>{{name}}</div>
      </template>
<!--
      {{response.type}} <br/>
      {{response.message}}
-->
<!--
      <template repeat="{{response.feed.entry}}">
        <div>{{title.$t}}</div>
      </template>
      
-->
      
      <paper-spinner id="loading" class="blue" active></paper-spinner>
      
      <section class="json">
        {{json}}
      </section>
      
      
      
      <!--  Add subject dialog    -->
      <r2als-paper-action-dialog heading="{{messageHeading}}" backdrop layered="false" id="messageDialog">
        <template repeat="{{mb in messageBody}}">
          <p>
            {{mb}}
          </p>
        </template>
        <paper-button dismissive autofocus class="colored">Close</paper-button>
      </r2als-paper-action-dialog>
      <!--  Add subject dialog    -->  
    
      
    </main-layout>
  </template>

</polymer-element>


